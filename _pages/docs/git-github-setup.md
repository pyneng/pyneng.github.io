---
title: "Настройка Git и GitHub"
permalink: /docs/git-github-setup/
excerpt: "Git and GitHub setup"
---

Для работы с заданиями на курсе используются Git и GitHub.

* Git - позволяет хранить историю изменений, кто выполнил изменения и позволяет посмотреть какие именно изменения были внесены.
* GitHub - используется для централизованного хранения файлов. Это дает возможность работать с заданиями из дома или на работе, без необходимости копировать файлы.

Для каждого участника курса создан свой приватный репозиторий на GitHub, доступ к которому есть только у инструктора и участника.

Для выполнения заданий нужны базовые знания Git.
В этом документе описан процесс установки и первичной настройки Git, а также команды, которые необходимы для работы с заданиями.

Далее описана процедура подготовки к курсу.

> Все действия в командной строке выполняются на виртуалке для курса (то есть, если вы подняли виртуалку Debian внутри Windows, то все действия выполняются внутри Debian).

## Подготовка к работе

### Установка Git

Установка Git для Debian/Ubuntu:
```
$ sudo apt-get install git
```

### Первичная настройка Git

Для начала работы с Git необходимо указать имя и email пользователя.
В нашем случае, это пользователь и email, которые вы указали при регистрации на GitHub.

```
$ git config --global user.name "pyneng"
$ git config --global user.email "github_email@gmail.com"
```

Посмотреть настройки можно таким образом:
```
$ git config --list
```

### Аутентификация на GitHub

Для безопасной работы с GitHub, мы будем использовать аутентификацию по ключам SSH.

Генерация нового SSH ключа (используйте email, который привязан к GitHub):
```
$ ssh-keygen -t rsa -b 4096 -C "github_email@gmail.com"
```

На всех вопросах достаточно нажать enter (более безопасно использовать ключ с passphrase, но можно и без, если нажать enter, при вопросе).

Запуск ssh-agent:
```
$ eval "$(ssh-agent -s)"
```

Добавить ключ в ssh-agent:
```
$ ssh-add ~/.ssh/id_rsa
```

> Если вы будете работать с заданиями с разных виртуалок (например, дома и на работе), надо повторить аналогичную процедуру и для второй виртуалки.

Теперь всё готово со стороны виртуалки и осталось только добавить SSH ключ на GitHub.

Для этого надо скопировать ключ.
Например, таким образом можно отобразить ключ для копирования:
```
cat ~/.ssh/id_rsa.pub
```

После копирования, надо перейти на GitHub.

В правом верхнем углу, на любой странице GitHub, нажмите на картинку вашего профиля и в выпадающем списке выберите Settings.

В настройках, в левой панели выберите поле "SSH and GPG keys".

Нажмите "New SSH key".
И в поле "Title" напишите название ключа (например, "Home debian"), а в поле "Key" вставьте содержимое, которое вы скопировали из файла ~/.ssh/id_rsa.

> Если GitHub запросит пароль - введите пароль своего акаунта GitHub.


Теперь, чтобы проверить, что всё прошло успешно, попробуйте выполнить команду (в виртуалке):
```
$ ssh -T git@github.com
```

Вывод будет таким:
```
Hi natenka! You've successfully authenticated, but GitHub does not provide shell access.
```

Теперь вы готовы работать с Git и GitHub.

> При возникновении проблем, вы можете посмотреть выполнение [аналогичной процедуры на GitHub](https://help.github.com/articles/connecting-to-github-with-ssh/)

## Копирование репозитория с GitHub

Для выполнения заданий вы будете использовать приватный репозиторий, который создан на GitHub.

Для работы с ним локально, его нужно скопировать.
Для этого используется команда git clone:
```
git clone ssh://git@github.com/pyneng/online-2-natasha-samoylenko.git
```

В этой команде вам нужно сменить имя репозитория "online-2-natasha-samoylenko" на свой репозиторий.

В итоге, в текущем каталоге, в котором вы выполнили команду git clone, появится каталог с именем репозитория.
В моем случае - online-2-natasha-samoylenko.

Если вы перейдете в этот каталог, то увидите в нем содержимое репозитория на GitHub.

## Работа с репозиторием

Предыдущая команда не просто скопировала репозиторий локально, но и настроила соответствующим образом Git:

* был создан каталог .git
* скачаны все данные репозитория
* скачаны все изменения, которые были в репозитории
* ваш репозиторий на GitHub настроен как remote для этого репозитория

Это значит, что теперь у вас готов полноценный репозиторий Git, в котором вы можете работать.

Обычно, последовательность работы будет такой:

* перед началом работы, синхронизируете локальное содержимое с GitHub командой git pull (синхронизация из GitHub в локальный репозиторий)
* редактируете какие-то файлы репозитория
* добавляете их в staging командой git add
* делаете commit с помощью git commit
* когда вы готовы закачать локальные изменения на GitHub, делаете git push

Если вы работаете с заданиями с работы и дома, надо не забывать первый и последний шаг:

* первый шаг - обновляет ваш локальный репозиторий на виртуалке
* последний шаг - загружает изменения на GitHub

### Синхронизация из GitHub в локальный репозиторий

Команда git pull:
```
git pull
```

### Добавление новых файлов или изменений в существующих файлах

Добавление всех новых файлов или изменений в существующих:
```
git add .
```

Если необходимо добавить конкретный файл (в данном случае - README.md):
```
git add README.md
```

### Commit

При выполнении commit обязательно надо указать сообщение.
Будет лучше, если сообщение будет со смыслом, а не просто "update" или подобное:

```
git commit -m "Сделал задания 4.1-4.3"
```

### Push на GitHub

Для загрузки всех локальных изменений на GitHub, используется git push:
```
git push origin master
```


## Проверка заданий
